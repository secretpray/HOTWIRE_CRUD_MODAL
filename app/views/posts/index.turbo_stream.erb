<% if @endless_render %>
  <%# endless %>
  <%= turbo_stream.append('post_list', partial: 'posts/post', collection: @posts, as: :post, locals: { online_user_ids: User.online_users }, formats: [:html]) %>
  <%= turbo_stream.update('next-page-link', partial: 'shared/page_next', locals: { page: @page }, formats: [:html]) %>
<% else %>
  <%# standard_stream%>
  <%= turbo_stream.replace('post_list', partial: 'posts/post', collection: @posts, as: :post, locals: { online_user_ids: User.online_users }, formats: [:html]) %>
  <%= turbo_stream.update('prev-page-link', partial: 'shared/page_prev', locals: { page: @page }, formats: [:html]) %>
  <%= turbo_stream.update('next-page-link', partial: 'shared/page_next', locals: { page: @page }, formats: [:html]) %>
<% end %>
